import{j as e}from"./vendor-mui-C1GmDdcn.js";import{r as s}from"./vendor-react-EzoxUMNY.js";import{aN as n,m as r,n as l,j as i,i as a,g as t,k as o}from"./lead-components-DTzlhBhz.js";import"./vendor-utils-QXd9EeNt.js";import"./vendor-antd-BB3a0mYC.js";const c=()=>{const[c,d]=s.useState(null),[m,x]=s.useState(null),[u,g]=s.useState({});return s.useEffect(()=>{const e=localStorage.getItem("userData"),s=localStorage.getItem("userPermissions");if(e)try{d(JSON.parse(e))}catch(m){}if(s)try{x(JSON.parse(s))}catch(m){}const c={getCurrentUserId:o(),getUserPermissions:t(),isSuperAdmin:a(),warnings:{permissionLevel:i("warnings"),canViewAll:l("warnings"),canViewJunior:r("warnings"),canViewOwn:n("warnings")},users:{permissionLevel:i("users"),canViewAll:l("users"),canViewJunior:r("users"),canViewOwn:n("users")},attendance:{permissionLevel:i("attendance"),canViewAll:l("attendance"),canViewJunior:r("attendance"),canViewOwn:n("attendance")},leaves:{permissionLevel:i("leaves"),canViewAll:l("leaves"),canViewJunior:r("leaves"),canViewOwn:n("leaves")}};g(c)},[]),e.jsxs("div",{className:"p-6 max-w-4xl mx-auto bg-white shadow-lg rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Permission System Test"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-700",children:"User Data"}),e.jsx("pre",{className:"text-sm bg-white p-3 rounded border overflow-auto max-h-40",children:JSON.stringify(c,null,2)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-700",children:"User Permissions"}),e.jsx("pre",{className:"text-sm bg-white p-3 rounded border overflow-auto max-h-40",children:JSON.stringify(m,null,2)})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg md:col-span-2",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3 text-blue-700",children:"Permission Test Results"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"General"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"User ID:"})," ",u.getCurrentUserId]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Is Super Admin:"})," ",u.isSuperAdmin?"✅ Yes":"❌ No"]})]})]}),["warnings","users","attendance","leaves"].map(s=>e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium mb-2 capitalize",children:[s," Module"]}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Level:"})," ",u[s]?.permissionLevel]}),e.jsxs("li",{children:[e.jsx("strong",{children:"View All:"})," ",u[s]?.canViewAll?"✅":"❌"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"View Junior:"})," ",u[s]?.canViewJunior?"✅":"❌"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"View Own:"})," ",u[s]?.canViewOwn?"✅":"❌"]})]})]},s))]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Instructions"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Open your browser's developer console (F12) to see detailed permission logs. Check the console output for the complete permission analysis."})]})]})};export{c as default};
