import{j as e}from"./vendor-mui-C1GmDdcn.js";import{r as s,R as t}from"./vendor-react-EzoxUMNY.js";import{a1 as a,g as l,q as r,a2 as i,C as n,U as m,a3 as o,X as c,b as d,a4 as x,a5 as h,a6 as p,a7 as u,n as g,o as b,a8 as f,a9 as j,aa as y}from"./lead-components-CxEP6yWP.js";import{b as w,a as N}from"./task-components-BODc7Jo4.js";import{f as v}from"./employee-components-CPwJv_R0.js";import"./vendor-utils-QXd9EeNt.js";import"./vendor-antd-BB3a0mYC.js";import"./vendor-office-CbbGW2MO.js";function k(e,s=!1){return v(e)}const C=t.memo(function({comments:a,onLike:r,onShowReplyBox:i,onDeleteComment:n,replyBoxState:o,replyText:d,setReplyText:x,handleReply:h,userName:u,userId:g,feedId:b,setReplyBoxState:y,expandedComments:w,setExpandedComments:N,likingComments:v=new Set}){const k=s.useMemo(()=>[...a].sort((e,s)=>{const t=new Date(e.timestamp||e.created_at||0);return new Date(s.timestamp||s.created_at||0)-t}),[a]);return e.jsx("div",{className:"space-y-2",children:k.map(s=>e.jsxs(t.Fragment,{children:[e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 mt-2 sm:mt-3",children:[e.jsx("div",{className:"w-6 sm:w-8 h-6 sm:h-8 bg-black rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 sm:w-4 h-3 sm:h-4 text-gray-300"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"bg-white rounded-2xl px-2 sm:px-3 py-2 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"font-semibold text-xs sm:text-sm text-black",children:s.author}),e.jsx("div",{className:"text-xs text-black",children:s.timestamp})]}),e.jsx("div",{className:"text-black mt-1 text-sm sm:text-base",children:s.text}),e.jsxs("div",{className:"flex gap-2 sm:gap-4 mt-1 text-xs",children:[e.jsxs("button",{onClick:()=>r(s.id,null),disabled:v.has(s.id),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg transition-all duration-300 font-medium disabled:opacity-50 text-xs sm:text-sm ${!0===s.liked?"text-blue-600 bg-blue-50 border border-blue-200 hover:bg-blue-100":"text-gray-600 bg-white border border-gray-200 hover:text-blue-500 hover:bg-blue-50"} hover:scale-105`,children:[e.jsx(p,{className:"w-3 sm:w-4 h-3 sm:h-4 transition-all duration-300 "+(!0===s.liked?"fill-blue-600 scale-110":"fill-none")}),e.jsx("span",{className:"font-semibold",children:s.likeCount||0}),e.jsx("span",{className:"hidden sm:inline",children:!0===s.liked?"Liked":"Like"})]},`like-${s.id}-${s.liked}-${s.likeCount}`),e.jsxs("button",{onClick:()=>{if(s.replies&&s.replies.length>0){const e=new Set(w);e.add(s.id),N(e)}i(b,s.id,s.author)},className:"flex items-center gap-1 text-blue-500 text-xs sm:text-sm",children:[e.jsx(j,{className:"w-3 sm:w-4 h-3 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Reply"}),e.jsx("span",{className:"sm:hidden",children:"â†³"}),s.replies&&s.replies.length>0&&` (${s.replies.length})`]}),(s.authorId===g||s.created_by===g||s.user_id===g||s.can_delete||f(l(),s,g))&&e.jsxs("button",{onClick:()=>n(b,s.id),className:"flex items-center gap-1 text-red-500 hover:text-red-700 text-xs sm:text-sm",children:[e.jsx(c,{className:"w-3 sm:w-4 h-3 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Delete"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ—‘ï¸"})]})]})]})})]}),s.replies&&s.replies.length>0&&w.has(s.id)&&e.jsxs("div",{className:"ml-6 sm:ml-10 space-y-2",children:[o&&o.feedId===b&&o.commentId===s.id&&e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 mt-1",children:[e.jsx("div",{className:"w-6 sm:w-8 h-6 sm:h-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 sm:w-4 h-3 sm:h-4 text-white"})}),e.jsxs("div",{className:"flex-1 bg-gray-100 rounded-full px-3 sm:px-4 py-2 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-1 text-xs text-gray-500",children:[e.jsx("span",{className:"hidden sm:inline",children:"Replying to"}),e.jsx("span",{className:"sm:hidden",children:"â†’"}),e.jsxs("span",{className:"ml-1 font-semibold text-blue-600",children:["@",o.replyTo]}),e.jsx("button",{className:"ml-2 text-red-500",onClick:()=>y(null),children:e.jsx(c,{className:"w-3 sm:w-4 h-3 sm:h-4"})})]}),e.jsx("input",{type:"text",placeholder:`Reply as ${u}`,value:d,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d.trim()&&h(b)},className:"w-full bg-transparent outline-none text-black placeholder-gray-400 text-sm sm:text-base"})]}),e.jsx("button",{onClick:()=>h(b),className:"ml-1 sm:ml-2 text-blue-500 font-semibold text-xs sm:text-sm",children:"Send"})]}),[...s.replies].sort((e,s)=>{const t=new Date(e.timestamp||e.created_at||0);return new Date(s.timestamp||s.created_at||0)-t}).map(t=>e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"ml-1 pt-2",children:e.jsx(j,{className:"w-2 sm:w-3 h-2 sm:h-3 text-blue-400"})}),e.jsx("div",{className:"w-6 sm:w-8 h-6 sm:h-8 bg-blue-700 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 sm:w-4 h-3 sm:h-4 text-gray-300"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"bg-blue-50 rounded-2xl px-2 sm:px-3 py-2 border border-blue-300",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"font-semibold text-xs sm:text-sm text-black",children:[t.author,t.replyTo&&e.jsxs("span",{className:"ml-1 sm:ml-2 text-xs text-blue-600",children:[e.jsx("span",{className:"hidden sm:inline",children:"replying to"}),e.jsx("span",{className:"sm:hidden",children:"â†’"})," @",t.replyTo]})]}),e.jsx("div",{className:"text-xs text-black",children:t.timestamp})]}),e.jsx("div",{className:"text-black mt-1 text-sm sm:text-base",children:t.text}),e.jsxs("div",{className:"flex gap-2 sm:gap-4 mt-1 text-xs",children:[e.jsxs("button",{onClick:()=>r(t.id,s.id),disabled:v.has(t.id),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg transition-all duration-300 font-medium disabled:opacity-50 text-xs ${!0===t.liked?"text-blue-600 bg-blue-50 border border-blue-200 hover:bg-blue-100":"text-gray-600 bg-white border border-gray-200 hover:text-blue-500 hover:bg-blue-50"} hover:scale-105`,children:[e.jsx(p,{className:"w-3 sm:w-4 h-3 sm:h-4 transition-all duration-300 "+(!0===t.liked?"fill-blue-600 scale-110":"fill-none")}),e.jsx("span",{className:"font-semibold",children:t.likeCount||0}),e.jsx("span",{className:"hidden sm:inline",children:!0===t.liked?"Liked":"Like"})]},`reply-like-${t.id}-${t.liked}-${t.likeCount}`),e.jsxs("button",{onClick:()=>{if(s.replies&&s.replies.length>0){const e=new Set(w);e.add(s.id),N(e)}i(b,s.id,t.author)},className:"flex items-center gap-1 text-blue-500 text-xs",children:[e.jsx(j,{className:"w-3 sm:w-4 h-3 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Reply"}),e.jsx("span",{className:"sm:hidden",children:"â†³"})]}),(t.authorId===g||t.created_by===g||t.user_id===g||t.can_delete||f(l(),t,g))&&e.jsxs("button",{onClick:()=>n(b,t.id),className:"flex items-center gap-1 text-red-500 hover:text-red-700 text-xs",children:[e.jsx(c,{className:"w-3 sm:w-4 h-3 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Delete"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ—‘ï¸"})]})]})]})})]},t.id))]}),o&&o.feedId===b&&o.commentId===s.id&&(!s.replies||0===s.replies.length||!w.has(s.id))&&e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 ml-6 sm:ml-10 mt-1",children:[e.jsx("div",{className:"w-6 sm:w-8 h-6 sm:h-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 sm:w-4 h-3 sm:h-4 text-white"})}),e.jsxs("div",{className:"flex-1 bg-gray-100 rounded-full px-3 sm:px-4 py-2 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-1 text-xs text-gray-500",children:[e.jsx("span",{className:"hidden sm:inline",children:"Replying to"}),e.jsx("span",{className:"sm:hidden",children:"â†’"}),e.jsxs("span",{className:"ml-1 font-semibold text-blue-600",children:["@",o.replyTo]}),e.jsx("button",{className:"ml-2 text-red-500",onClick:()=>y(null),children:e.jsx(c,{className:"w-3 sm:w-4 h-3 sm:h-4"})})]}),e.jsx("input",{type:"text",placeholder:`Reply as ${u}`,value:d,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d.trim()&&h(b)},className:"w-full bg-transparent outline-none text-black placeholder-gray-400 text-sm sm:text-base"})]}),e.jsx("button",{onClick:()=>h(b),className:"ml-1 sm:ml-2 text-blue-500 font-semibold text-xs sm:text-sm",children:"Send"})]})]},s.id))})});function I({user:t}){const[f,j]=s.useState(""),[y,v]=s.useState([]),[I,S]=s.useState([]),[_,$]=s.useState(!0),[T,D]=s.useState(""),[R,P]=s.useState(""),[E,U]=s.useState(!1),[F,L]=s.useState(!1),[z,B]=s.useState(!1),[O,A]=s.useState(0),[M,W]=s.useState([]),[J,H]=s.useState(!1),[G,K]=s.useState(null),q=s.useRef(null),V=s.useRef(null),[Y,Q]=s.useState({}),[X,Z]=s.useState(null),[ee,se]=s.useState(""),[te,ae]=s.useState(new Set),[le,re]=s.useState(new Set),[ie,ne]=s.useState(new Set),me=a(),oe=l(),ce="*"===oe||oe&&"*"===oe.pages||oe&&oe.includes&&oe.includes("*"),de=r(oe,"feeds","show")||ce;r(oe,"feeds","feeds");const xe=r(oe,"feeds","post")||ce,he=localStorage.getItem("userName")||(t?`${t.first_name} ${t.last_name}`:"User");s.useEffect(()=>{pe()},[]);const pe=s.useCallback(async()=>{try{$(!0),D("");const s=localStorage.getItem("userId");if(!s)return void D("User not authenticated");const t=new URLSearchParams({page:"1",page_size:"20",user_id:s,include_comments:"true"}),a=await fetch(w(`feeds/?${t}`),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok){const s=await a.text();let t;try{t=JSON.parse(s)}catch(e){throw new Error(`HTTP ${a.status}: ${s}`)}throw new Error(t.detail||"Failed to fetch feeds")}const l=await a.json(),r=`comment_likes_${s}`,i=JSON.parse(localStorage.getItem(r)||"{}"),n=(l.items||[]).map(s=>{let t="Recently";try{s.created_at&&(t=k(s.created_at))}catch(e){}let a=[];if(s.comments){const t=s.comments.map(s=>{let t="Recently";try{s.created_at&&(t=k(s.created_at))}catch(e){}const a=i[s.id||s._id]||!1;return{id:s.id||s._id,text:s.content||"",author:s.user_name||"Unknown User",authorId:s.created_by,timestamp:t,liked:a,likeCount:s.likes_count||0,parentId:s.parent_id||null,replyTo:s.reply_to||null,replies:[]}}),l=[],r={};t.forEach(e=>{e.parentId?(r[e.parentId]||(r[e.parentId]=[]),r[e.parentId].push(e)):l.push(e)}),l.forEach(e=>{r[e.id]&&(e.replies=r[e.id])}),a=l}return{id:s.id||s._id,text:s.content||"",images:s.files?s.files.filter(e=>e.file_type?.startsWith("image")).map(e=>N(e.file_path)):[],files:s.files?s.files.filter(e=>!e.file_type?.startsWith("image")):[],author:s.creator_name||"Unknown User",authorId:s.created_by,timestamp:t,liked:s.liked_by_user||!1,showCommentBox:!1,comments:a,likes:s.likes_count||0,department:s.department||"General"}});S(n);for(const e of n)await ue(e.id)}catch(s){D(`Failed to load feeds: ${s.message}`)}finally{$(!1)}},[]),ue=s.useCallback(async e=>{try{const s=localStorage.getItem("userId");if(!s)return;const t=await fetch(w(`feeds/${e}/comments/?user_id=${encodeURIComponent(s)}`),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)return;const a=await t.json(),l=`comment_likes_${s}`,r=JSON.parse(localStorage.getItem(l)||"{}"),i=(a||[]).map(e=>{let s="Recently";try{e.created_at&&(s=k(e.created_at))}catch(a){}const t=r[e.id||e._id]||!1;return{id:e.id||e._id,text:e.content||"",author:e.user_name||"Unknown User",authorId:e.created_by,timestamp:s,liked:t,likeCount:e.likes_count||0,parentId:e.parent_id||null,replyTo:e.reply_to||null,replies:[]}}),n=[],m={};return i.forEach(e=>{e.parentId?(m[e.parentId]||(m[e.parentId]=[]),m[e.parentId].push(e)):n.push(e)}),n.forEach(e=>{m[e.id]&&(e.replies=m[e.id])}),S(s=>s.map(s=>s.id===e?{...s,comments:n}:s)),n}catch(s){return[]}},[]),ge=s.useCallback(e=>{const s=Array.from(e.target.files),t=["image/jpeg","image/jpg","image/png","image/gif","application/pdf"],a=s.filter(e=>t.includes(e.type)&&e.size<=10485760).map(e=>({file:e,preview:e.type.startsWith("image/")?URL.createObjectURL(e):null,type:e.type.startsWith("image/")?"image":"pdf",name:e.name,size:e.size}));v(e=>[...e,...a])},[]),be=s.useCallback(e=>{v(s=>{const t=[...s];return t[e].preview&&URL.revokeObjectURL(t[e].preview),t.splice(e,1),0===t.length&&P(""),t})},[]),fe=s.useCallback((e,s)=>{W(e),A(s),B(!0)},[]),je=s.useCallback(()=>{B(!1),W([]),A(0)},[]),ye=s.useCallback(()=>A(e=>(e+1)%M.length),[M.length]),we=s.useCallback(()=>A(e=>(e-1+M.length)%M.length),[M.length]),Ne=s.useCallback(async(e,s)=>{if(s.trim())try{const t=`temp-${Date.now()}`,l={id:t,text:s,author:he,authorId:me,timestamp:k(new Date,!0),canDelete:!0,liked:!1,likeCount:0,replies:[],isTemp:!0};S(s=>s.map(s=>s.id===e?{...s,comments:[l,...s.comments]}:s)),G&&G.id===e&&K(e=>({...e,comments:[l,...e.comments]})),Q(s=>({...s,[e]:""}));const r=a()||localStorage.getItem("userId");if(!r)throw new Error("User ID not available. Please log in again.");const i=await fetch(w(`feeds/${e}/comments/`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({feed_id:e,created_by:r,content:s})});if(!i.ok)throw new Error("Failed to post comment");const n=await i.json(),m={id:n.id||n._id,text:s,author:he,authorId:me,timestamp:k(new Date,!0),canDelete:!0,liked:!1,likeCount:0,replies:[]};S(s=>s.map(s=>s.id!==e?s:{...s,comments:s.comments.map(e=>e.id===t?m:e)})),G&&G.id===e&&K(e=>({...e,comments:e.comments.map(e=>e.id===t?m:e)})),await ue(e)}catch(t){D("Failed to add comment. Please try again."),S(s=>s.map(s=>s.id!==e?s:{...s,comments:s.comments.filter(e=>!e.isTemp)})),G&&G.id===e&&K(e=>({...e,comments:e.comments.filter(e=>!e.isTemp)}))}},[he,me,G]),ve=s.useCallback(async(e,s,t=null)=>{if(!le.has(s))try{re(e=>new Set([...e,s]));const t=a()||localStorage.getItem("userId");if(!t)return void D("User not authenticated");const l=`comment_likes_${t}`,r=JSON.parse(localStorage.getItem(l)||"{}");let i=null;const n=e=>{if(!e)return null;for(const t of e){if(t.id===s)return t;if(t.replies&&t.replies.length>0){const e=n(t.replies);if(e)return e}}return null};if(G&&G.id===e&&(i=n(G.comments)),!i){const s=I.find(s=>s.id===e);s&&s.comments&&(i=n(s.comments))}if(!i)return;const m=r[s]||!1,o=!m,c=i.likeCount||0,d=m?Math.max(0,c-1):c+1;o?r[s]=!0:delete r[s],localStorage.setItem(l,JSON.stringify(r));const x=e=>e?e.map(e=>e.id===s?{...e,liked:o,likeCount:d}:e.replies&&e.replies.length>0?{...e,replies:x(e.replies)}:e):[];G&&G.id===e&&K(e=>({...e,comments:x(e.comments)})),S(s=>s.map(s=>s.id!==e?s:{...s,comments:x(s.comments)}))}catch(l){D(`Failed to toggle comment like: ${l.message}`)}finally{setTimeout(()=>{re(e=>{const t=new Set(e);return t.delete(s),t})},300)}},[I,G,le]),ke=s.useCallback((e,s,t)=>{Z({feedId:e,commentId:s,replyTo:t}),se("")},[]);return _?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(i,{className:"w-8 h-8 animate-spin text-blue-400"}),e.jsx("span",{className:"ml-2 text-white",children:"Loading feeds..."})]}):de?e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 pt-2 sm:pt-4 pb-4 sm:pb-8 max-w-4xl",children:[xe&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-800 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-4 sm:w-6 h-4 sm:h-6 text-white"})}),e.jsxs("button",{onClick:()=>L(!0),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-black text-left px-3 sm:px-4 py-2 sm:py-3 rounded-full transition-colors border border-black text-sm sm:text-base",children:["What's on your mind, ",he.split(" ")[0],"?"]})]})}),e.jsx("div",{className:"flex items-center justify-around py-2 px-3 sm:px-4",children:e.jsxs("button",{onClick:()=>{L(!0),setTimeout(()=>q.current?.click(),100)},className:"flex-1 flex bg-green-100 items-center justify-center py-2 px-2 sm:px-4 text-black hover:bg-green-300 rounded-lg transition-colors border border-black text-sm sm:text-base",children:[e.jsx(o,{className:"w-4 sm:w-6 h-4 sm:h-6 text-green-400 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Photos/PDF"}),e.jsx("span",{className:"sm:hidden",children:"Media"})]})})]}),F&&e.jsx("div",{className:"fixed inset-0 bg-transparent bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-2 sm:p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-sm sm:max-w-xl mx-2 sm:mx-4 max-h-[95vh] sm:max-h-[90vh] overflow-y-auto border border-gray-800 shadow-2xl",children:[e.jsxs("div",{className:"flex bg-white items-center justify-between p-3 sm:p-4 border-b border-gray-800",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-black",children:"Create post"}),e.jsx("button",{onClick:()=>{L(!1),v([]),j("")},className:"w-8 sm:w-10 h-8 sm:h-10 flex items-center justify-center bg-gray-800 rounded-full hover:bg-red-600 text-white transition-all duration-200",children:e.jsx(c,{className:"w-4 sm:w-6 h-4 sm:h-6"})})]}),e.jsxs("div",{className:"p-3 sm:p-4 bg-white",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-4 sm:w-6 h-4 sm:h-6 text-black"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-black text-sm sm:text-base",children:he}),e.jsx("div",{className:"text-xs sm:text-sm text-black bg-gray/20 px-2 py-1 rounded flex items-center border border-gray-700",children:"ðŸŒ Public"})]})]}),e.jsx("textarea",{placeholder:`What's on your mind, ${he.split(" ")[0]}?`,value:f,onChange:e=>{j(e.target.value),R&&P(""),e.target.style.height="auto",e.target.style.height=Math.max(80,e.target.scrollHeight)+"px"},className:"w-full bg-gray-100 text-black text-base sm:text-xl placeholder-gray-400 border rounded-lg p-2 sm:p-3 outline-none resize-none min-h-[80px] sm:min-h-[120px] max-h-[300px] sm:max-h-[400px] overflow-y-auto transition-all duration-200 "+(R?"border-red-500 focus:border-red-500 bg-red-50":"border-gray-700 focus:border-blue-500"),autoFocus:!0,style:{height:"80px",minHeight:"80px",maxHeight:window.innerWidth<640?"300px":"400px"},onInput:e=>{e.target.style.height="auto",e.target.style.height=Math.max(window.innerWidth<640?80:120,e.target.scrollHeight)+"px"}}),R&&e.jsxs("div",{className:"mt-2 text-red-500 text-sm flex items-center",children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),R]}),y.length>0&&e.jsx("div",{className:"mt-3 sm:mt-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-1 sm:gap-2",children:y.slice(0,Math.min(4,y.length)).map((s,t)=>e.jsxs("div",{className:"relative",children:["image"===s.type?e.jsx("img",{src:s.preview,alt:"Preview",className:"w-full h-24 sm:h-32 object-cover rounded-lg"}):e.jsxs("div",{className:"w-full h-24 sm:h-32 bg-gray-800 rounded-lg flex items-center justify-center",children:[e.jsx(d,{className:"w-6 sm:w-8 h-6 sm:h-8 text-red-500"}),e.jsx("span",{className:"ml-1 sm:ml-2 text-xs sm:text-sm text-gray-300 truncate max-w-[60px] sm:max-w-[80px]",children:s.name})]}),e.jsx("button",{onClick:()=>be(t),className:"absolute top-1 sm:top-2 right-1 sm:right-2 w-5 sm:w-6 h-5 sm:h-6 bg-gray-800 bg-opacity-70 text-white rounded-full flex items-center justify-center hover:bg-opacity-90",children:e.jsx(c,{className:"w-3 sm:w-4 h-3 sm:h-4"})}),3===t&&y.length>4&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center rounded-lg",children:e.jsxs("span",{className:"text-white text-sm sm:text-xl font-bold",children:["+",y.length-4]})})]},t))})}),e.jsx("div",{className:"mt-3 sm:mt-4",children:e.jsxs("button",{onClick:()=>q.current?.click(),className:"flex items-center justify-center w-full py-2 px-3 sm:px-4 text-black hover:bg-green-300 rounded-lg transition-colors border border-gray-700 text-sm sm:text-base",children:[e.jsx(o,{className:"w-4 sm:w-6 h-4 sm:h-6 text-green-400 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Photos/PDF"}),e.jsx("span",{className:"sm:hidden",children:"Add Media"})]})}),e.jsx("input",{ref:q,type:"file",multiple:!0,accept:"image/*,application/pdf",onChange:ge,className:"hidden"}),e.jsx("button",{onClick:async()=>{if(P(""),""!==f.trim()||0!==y.length)if(y.length>0&&""===f.trim())P("A message is required when posting photos or files.");else try{U(!0),D("");const e=localStorage.getItem("userId");if(!e)return void D("User not authenticated");const s=new FormData;s.append("content",f.trim()),s.append("user_id",e),y.forEach(e=>{s.append("files",e.file)});const t=await fetch(w("feeds/"),{method:"POST",body:s});if(!t.ok){const e=await t.text();throw new Error(e||"Failed to create post")}await t.json(),await pe(),j(""),v([]),P(""),L(!1),y.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)})}catch(e){D("Failed to post. Please try again.")}finally{U(!1)}},disabled:E||""===f.trim()&&0===y.length||R,className:"w-full mt-3 sm:mt-4 py-2 sm:py-3 px-3 sm:px-4 rounded-lg font-medium transition-colors text-sm sm:text-base "+(E||""===f.trim()&&0===y.length||R?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:E?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(i,{className:"w-4 h-4 mr-2 animate-spin"}),"Posting..."]}):"Post"})]})]})}),T&&e.jsx("div",{className:"bg-red-900 border border-red-600 text-red-200 px-3 sm:px-4 py-3 rounded mb-4 sm:mb-6 mx-2 sm:mx-auto max-w-3xl text-sm sm:text-base",children:T}),0===I.length&&!_&&!T&&e.jsx("div",{className:"text-center py-6 sm:py-8 text-gray-400 text-sm sm:text-base px-4",children:"No posts yet. Be the first to share something!"}),e.jsx("div",{className:"flex flex-col gap-3 sm:gap-6",children:I.map(s=>{const t=a()||localStorage.getItem("userId"),l={...s,created_by:s.created_by||s.authorId||s.creator_id||s.creator&&s.creator.id},r=x(oe,l,t);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-800 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-6 h-6 text-black"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-black",children:s.author||s.creator_name}),e.jsx("div",{className:"text-sm text-black",children:s.timestamp})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:bg-gray-800 rounded-full",children:e.jsx(h,{className:"w-5 h-5"})}),r&&e.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this post?"))try{const s=a()||localStorage.getItem("userId");if(!s)return void D("User ID not found. Please log in again.");if(S(s=>s.filter(s=>s.id!==e)),!(await fetch(w(`feeds/${e}/?user_id=${encodeURIComponent(s)}`),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete post")}catch(s){D("Failed to delete post. Please try again."),pe()}})(s.id),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-gray-800 rounded-full",title:"Delete Post",children:e.jsx(c,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"px-4 pb-3",children:e.jsx("p",{className:"text-black whitespace-pre-wrap bg-white font-bold text-lg",children:s.text})}),s.images&&s.images.length>0&&e.jsx("div",{className:"pb-3 bg-white",children:e.jsx("div",{className:1===s.images.length?"bg-black":"grid gap-1 grid-cols-2",children:s.images.slice(0,Math.min(4,s.images.length)).map((t,a)=>e.jsxs("div",{className:"relative cursor-pointer",onClick:()=>fe(s.images,a),children:[e.jsx("img",{src:t,alt:`Post image ${a+1}`,className:"w-full "+(1===s.images.length?"h-[500px] sm:h-[600px] object-contain":"h-80 sm:h-96 object-cover")}),3===a&&s.images.length>4&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center",children:e.jsxs("span",{className:"text-white text-2xl font-bold",children:["+",s.images.length-4]})})]},a))})}),e.jsx("div",{className:"border-t px-4 py-2 bg-white",children:e.jsxs("div",{className:"flex items-center justify-around border-gray-200 pt-3",children:[e.jsxs("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("userId");if(!s)return void D("User not authenticated");const t=I.find(s=>s.id===e),a=w(t?.liked?`feeds/${e}/unlike/?user_id=${s}`:`feeds/${e}/like/?user_id=${s}`),l=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!l.ok)throw new Error("Failed to toggle like");await l.json(),S(s=>s.map(s=>s.id===e?{...s,liked:!s.liked,likes:s.liked?s.likes-1:s.likes+1}:s))}catch(s){D("Failed to toggle like. Please try again.")}})(s.id),className:"flex-1 flex items-center justify-center py-2 px-4 rounded-lg transition-colors "+(s.liked?"text-blue-400":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(p,{className:"w-5 h-5 mr-2 "+(s.liked?"fill-blue-400":"")}),"Like",e.jsx("span",{className:"ml-2 text-sm font-semibold",children:s.likes||0})]}),e.jsxs("button",{onClick:()=>(e=>{K(e),H(!0),A(0),ae(new Set),setTimeout(()=>{V.current&&(V.current.focus(),V.current.scrollIntoView({behavior:"smooth",block:"center"}))},100)})(s),className:"flex-1 flex items-center justify-center py-2 px-4 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(u,{className:"w-5 h-5 mr-2"}),"Comment",e.jsx("span",{className:"ml-2 text-sm font-semibold",children:s.comments?.length||0})]})]})})]},s.id)})})]}),z&&e.jsx("div",{className:"fixed inset-0 bg-transparent bg-opacity-30 flex items-center justify-center z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:je,className:"fixed top-4 right-4 w-12 h-12 bg-gray-800 bg-opacity-80 text-white rounded-full flex items-center justify-center hover:bg-red-600 hover:text-white transition-all duration-200 z-50 shadow-lg border border-gray-600 transform hover:scale-110",title:"Close image viewer",children:e.jsx(c,{className:"w-6 h-6"})}),M.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:we,className:"absolute left-4 w-10 h-10 bg-gray-800 bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 z-10",children:e.jsx(g,{className:"w-6 h-6"})}),e.jsx("button",{onClick:ye,className:"absolute right-4 w-10 h-10 bg-gray-800 bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 z-10",children:e.jsx(b,{className:"w-6 h-6"})})]}),e.jsx("img",{src:M[O],alt:"Full size",className:"max-w-[95vw] max-h-[90vh] object-contain"}),M.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white",children:[O+1," of ",M.length]})]})}),J&&G&&e.jsx("div",{className:"fixed inset-0 bg-transparent bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm sm:max-w-3xl mx-2 sm:mx-4 max-h-[95vh] sm:max-h-[90vh] overflow-hidden border border-gray-800 shadow-2xl flex flex-col",id:"post-modal-content",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-800 bg-white sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-4 sm:w-6 h-4 sm:h-6 text-black"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-black text-sm sm:text-base",children:G.author||G.creator_name}),e.jsx("div",{className:"text-xs sm:text-sm text-black",children:G.timestamp})]})]}),e.jsx("button",{onClick:()=>{H(!1),K(null),A(0)},className:"w-7 sm:w-8 h-7 sm:h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-red-500 hover:text-white transition-colors","aria-label":"Close",children:e.jsx(c,{className:"w-4 sm:w-5 h-4 sm:h-5"})})]}),e.jsxs("div",{className:"overflow-y-auto flex-1",children:[e.jsx("div",{className:"px-3 sm:px-4 py-2 sm:py-3",children:e.jsx("p",{className:"text-black whitespace-pre-wrap bg-white font-bold text-base sm:text-lg",children:G.text})}),G.images&&G.images.length>0&&e.jsxs("div",{className:"relative bg-black",children:[e.jsxs("div",{className:"relative w-full h-96 sm:h-[500px] overflow-hidden bg-black",children:[e.jsx("img",{src:G.images[O],alt:`Post image ${O+1}`,className:"w-full h-full object-contain"}),G.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),A(e=>(e-1+G.images.length)%G.images.length)},className:"absolute left-1 sm:left-2 top-1/2 transform -translate-y-1/2 w-8 sm:w-10 h-8 sm:h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all hover:scale-110",children:e.jsx(g,{className:"w-4 sm:w-6 h-4 sm:h-6"})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),A(e=>(e+1)%G.images.length)},className:"absolute right-1 sm:right-2 top-1/2 transform -translate-y-1/2 w-8 sm:w-10 h-8 sm:h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all hover:scale-110",children:e.jsx(b,{className:"w-4 sm:w-6 h-4 sm:h-6"})}),e.jsxs("div",{className:"absolute bottom-1 sm:bottom-2 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white text-xs sm:text-sm px-2 sm:px-3 py-1 rounded-full font-medium",children:[O+1," / ",G.images.length]})]})]}),G.images.length>1&&e.jsx("div",{className:"flex justify-center mt-1 sm:mt-2 gap-1 sm:gap-2 overflow-x-auto py-1 sm:py-2 px-2 bg-black",children:G.images.map((s,t)=>e.jsx("button",{onClick:()=>A(t),className:"w-12 sm:w-16 h-12 sm:h-16 rounded-md overflow-hidden flex-shrink-0 border-2 transition-all "+(O===t?"border-blue-500 scale-105":"border-transparent opacity-70"),children:e.jsx("img",{src:s,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),e.jsxs("div",{id:"comments-section",className:"border-t border-gray-800 px-3 sm:px-4 py-2 sm:py-3 bg-white",children:[e.jsx("div",{className:"font-bold text-black mb-2 text-sm sm:text-base",children:"Comments"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-6 sm:w-8 h-6 sm:h-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-3 sm:w-4 h-3 sm:h-4 text-white"})}),e.jsx("div",{className:"flex-1 bg-gray-100 rounded-full px-3 sm:px-4 py-2 border border-gray-700",children:e.jsx("input",{ref:V,type:"text",placeholder:"Write a comment...",value:Y[G.id]||"",onChange:e=>Q(s=>({...s,[G.id]:e.target.value})),onKeyDown:e=>{"Enter"===e.key&&(Y[G.id]||"").trim()&&(Ne(G.id,Y[G.id]),Q(e=>({...e,[G.id]:""})))},className:"w-full bg-transparent outline-none text-black placeholder-gray-400 text-sm sm:text-base"})}),e.jsx("button",{onClick:()=>{(Y[G.id]||"").trim()&&(Ne(G.id,Y[G.id]),Q(e=>({...e,[G.id]:""})))},className:"ml-1 sm:ml-2 px-3 sm:px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-xs sm:text-sm",children:"Comment"})]}),e.jsx(C,{comments:G.comments,onLike:(e,s)=>ve(G.id,e,s),onShowReplyBox:ke,onDeleteComment:async(e,s)=>{if(window.confirm("Are you sure you want to delete this comment?"))try{const t=a()||localStorage.getItem("userId");if(!t)return void D("User ID not found. Please log in again.");if(S(t=>t.map(t=>{if(t.id!==e)return t;const a=e=>e.filter(e=>e.id!==s).map(e=>e.replies&&e.replies.length>0?{...e,replies:a(e.replies)}:e);return{...t,comments:a(t.comments)}})),!(await fetch(w(`feeds/comments/${s}/?user_id=${encodeURIComponent(t)}`),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete comment")}catch(t){D("Failed to delete comment. Please try again."),pe()}},replyBoxState:X&&X.feedId===G.id?X:null,replyText:ee,setReplyText:se,handleReply:async e=>{if(ee.trim())try{const s=`temp-reply-${Date.now()}`,t={id:s,text:ee,author:he,authorId:me,timestamp:k(new Date,!0),canDelete:!0,liked:!1,likeCount:0,parentId:X.commentId,replies:[],isTemp:!0};S(s=>s.map(s=>{if(s.id!==e)return s;const a=e=>e.map(e=>e.id===X.commentId?{...e,replies:[t,...e.replies||[]]}:e.replies?{...e,replies:a(e.replies)}:e);return{...s,comments:a(s.comments)}})),G&&G.id===e&&K(e=>{const s=e=>e.map(e=>e.id===X.commentId?{...e,replies:[t,...e.replies||[]]}:e.replies?{...e,replies:s(e.replies)}:e);return{...e,comments:s(e.comments)}});const l=X,r=ee;Z(null),se(""),ae(e=>{const s=new Set(e);return s.add(l.commentId),s});const i=a()||localStorage.getItem("userId");if(!i)throw new Error("User ID not available. Please log in again.");const n=await fetch(w(`feeds/${e}/comments/`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({feed_id:e,created_by:i,content:r,parent_id:l.commentId,reply_to:l.replyTo})});if(!n.ok)throw new Error("Failed to post reply");const m=await n.json(),o={id:m.id||m._id,text:r,author:he,authorId:me,timestamp:k(new Date,!0),canDelete:!0,liked:!1,likeCount:0,parentId:l.commentId,replies:[]};S(t=>t.map(t=>{if(t.id!==e)return t;const a=e=>e.map(e=>e.id===l.commentId?{...e,replies:(e.replies||[]).map(e=>e.id===s?o:e)}:e.replies?{...e,replies:a(e.replies)}:e);return{...t,comments:a(t.comments)}})),G&&G.id===e&&K(e=>{const t=e=>e.map(e=>e.id===l.commentId?{...e,replies:(e.replies||[]).map(e=>e.id===s?o:e)}:e.replies?{...e,replies:t(e.replies)}:e);return{...e,comments:t(e.comments)}}),await ue(e)}catch(s){D("Failed to add reply. Please try again."),S(s=>s.map(s=>{if(s.id!==e)return s;const t=e=>e.map(e=>e.id===X.commentId?{...e,replies:(e.replies||[]).filter(e=>!e.isTemp)}:e.replies?{...e,replies:t(e.replies)}:e);return{...s,comments:t(s.comments)}})),G&&G.id===e&&K(e=>{const s=e=>e.map(e=>e.id===X.commentId?{...e,replies:(e.replies||[]).filter(e=>!e.isTemp)}:e.replies?{...e,replies:s(e.replies)}:e);return{...e,comments:s(e.comments)}})}},userName:he,userId:me,feedId:G.id,setReplyBoxState:Z,expandedComments:te,setExpandedComments:ae,likingComments:le})]})]})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx(n,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-400",children:"You don't have permission to view the feeds."})]})}t.memo(function({feed:s,onLike:t,onComment:a,onShowPostModal:l,onOpenImageViewer:r,onDeletePost:i,onLikeComment:n,onShowReplyBox:o,onDeleteComment:c,onReply:d,commentTexts:g,setCommentTexts:b,replyBoxState:f,replyText:j,setReplyText:w,setReplyBoxState:N,expandedComments:v,setExpandedComments:k,likingComments:C,userName:I,userId:S,userPermissions:_}){const $=x(_,s,S);return y(_),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-800 mb-3 sm:mb-6 mx-1 sm:mx-0",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-4 sm:w-6 h-4 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-black text-sm sm:text-base",children:s.author}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:s.timestamp})]})]}),$&&e.jsx("button",{onClick:()=>i(s.id),className:"p-1 sm:p-2 text-gray-500 hover:text-red-500 rounded-full hover:bg-gray-100",children:e.jsx(h,{className:"w-4 sm:w-5 h-4 sm:h-5"})})]})}),e.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4",children:e.jsx("p",{className:"text-black whitespace-pre-wrap text-sm sm:text-base",children:s.text})}),s.images&&s.images.length>0&&e.jsx("div",{className:1===s.images.length?"bg-black":"grid gap-1 sm:gap-2",style:{gridTemplateColumns:1===s.images.length?"1fr":2===s.images.length?"repeat(2, 1fr)":3===s.images.length?"repeat(3, 1fr)":"repeat(2, 1fr)"},children:s.images.slice(0,4).map((t,a)=>e.jsxs("div",{className:"relative "+(s.images.length,""),children:[e.jsx("img",{src:t,alt:`Post image ${a+1}`,className:"w-full cursor-pointer hover:opacity-90 transition-opacity "+(1===s.images.length?"h-[500px] sm:h-[600px] object-contain":"h-80 sm:h-96 object-cover"),onClick:()=>r(s.images,a)}),3===a&&s.images.length>4&&e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-sm sm:text-xl font-bold cursor-pointer",onClick:()=>r(s.images,a),children:["+",s.images.length-4]})]},a))}),e.jsx("div",{className:"px-3 sm:px-4 py-2 sm:py-3 border-t border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex space-x-3 sm:space-x-6 w-full",children:[e.jsxs("button",{onClick:()=>t(s.id),className:`flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-300 font-medium text-xs sm:text-sm ${s.liked?"text-blue-600 bg-blue-50 border border-blue-200 hover:bg-blue-100":"text-gray-600 bg-white border border-gray-200 hover:text-blue-500 hover:bg-blue-50"} hover:scale-105 flex-1 justify-center`,children:[e.jsx(p,{className:"w-4 sm:w-5 h-4 sm:h-5 transition-all duration-300 "+(s.liked?"fill-blue-600 scale-110":"fill-none")}),e.jsx("span",{className:"font-semibold",children:s.likes}),e.jsx("span",{className:"hidden sm:inline",children:s.liked?"Liked":"Like"})]}),e.jsxs("button",{onClick:()=>l(s),className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:text-blue-500 hover:bg-blue-50 transition-all duration-300 font-medium hover:scale-105 flex-1 justify-center text-xs sm:text-sm",children:[e.jsx(u,{className:"w-4 sm:w-5 h-4 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Comment"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ’¬"}),e.jsx("span",{className:"ml-1 sm:ml-2 text-xs sm:text-sm font-semibold",children:s.comments?.length||0})]})]})})})]})});export{I as default};
