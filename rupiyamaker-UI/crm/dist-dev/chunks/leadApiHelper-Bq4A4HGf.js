const t="/api",a=async(a,e,o=null,s="")=>{try{let n=`?user_id=${e}`;o&&(n+=`&target_user_id=${o}`),s&&(n+=`&reason=${encodeURIComponent(s)}`);const r=await fetch(`${t}/leads/${a}/request-reassign${n}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok){const t=await r.json();throw new Error(t.detail||`HTTP error! status: ${r.status}`)}return await r.json()}catch(n){throw n}},e=async(a,e)=>{try{const o=await fetch(`${t}/reassignment/approve/${a}?user_id=${e}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!o.ok){const t=await o.json();throw new Error(t.detail||`HTTP error! status: ${o.status}`)}return await o.json()}catch(o){throw o}},o=async(a,e=1,o=20)=>{try{const s=await fetch(`${t}/reassignment/list?user_id=${a}&page=${e}&page_size=${o}&status_filter=pending`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!s.ok){const t=await s.json();throw new Error(t.detail||`HTTP error! status: ${s.status}`)}const n=await s.json();return{items:n.requests||[],pages:n.pagination?.pages||1,total:n.pagination?.total||0,page:n.pagination?.page||1,page_size:n.pagination?.page_size||o}}catch(s){throw s}};export{e as a,o as f,a as r};
