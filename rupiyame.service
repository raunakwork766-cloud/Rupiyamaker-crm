[Unit]
Description=RupiyaMe Backend Service
After=network.target mongodb.service
Wants=network.target mongodb.service

[Service]
Type=simple
User=ubuntu
Group=ubuntu
WorkingDirectory=/home/ubuntu/RupiyaMe/backend
ExecStart=/bin/bash -c 'source /home/ubuntu/RupiyaMe/backend/venv/bin/activate && python3 -m app'
Restart=always
RestartSec=5
Environment=PYTHONPATH=/home/ubuntu/RupiyaMe/backend
# Increase timeout for slower systems or heavy initialization
TimeoutStartSec=60

# Security enhancements
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
